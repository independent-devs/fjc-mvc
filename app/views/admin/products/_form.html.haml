
= form_for(@product, url: path, html: {class: "w-full flex gap-5", method: method}) do |f|
  .flex.flex-col.gap-2{class: "w-full"}
    .field
      = f.label "Name*"
      = f.text_field :name, required: true, placeholder: "e.g. Nike Shoe"
    .field
      = f.label "Slug*"
      = f.text_field :slug, required: true, placeholder: "e.g. nike_shoe"
    .field
      = f.label :description
      = f.text_area :description, rows: 12
    %h2.font-bold.text-xl.mt-3 SEO
    .field
      = f.label :meta_title
      = f.text_field :meta_title
    .field
      = f.label :meta_description
      = f.text_area :meta_description
    .field
      = f.label :meta_keywords
      = f.text_field :meta_keywords
  .flex.flex-col.gap-2{class: "w-1/4"}
    .field
      = f.label :available_on
      = f.datetime_local_field :available_on
    .field
      = f.label :discontinue_on
      = f.datetime_local_field :discontinue_on
    - is_new = (action_name == "new")
    = f.fields_for :variants, is_new ? Variant.new : @product.variants.get_master do |master_variant|
      .field
        = master_variant.label "Master price*"
        = master_variant.number_field :sell_price, required: true, step: :any, placeholder: "0.00"
      .field
        = master_variant.label :cost_price
        = master_variant.number_field :cost_price, step: :any, placeholder: "0.00"
      .field
        = master_variant.label "Master SKU"
        = master_variant.text_field :sku
      - if is_new
        = master_variant.hidden_field :is_master, value: true
    = f.submit is_new ? "Create" : "Update", class: "mt-2 btn-primary w-full cursor-pointer disabled:bg-gray-300 disabled:cursor-wait"
